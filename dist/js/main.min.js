"use strict";var navigation=document.querySelector(".nav__container__mobile__page"),navBtnCollapse=document.querySelector(".nav__container__mobile__button__collapse"),navIcon=document.querySelector(".fa-chevron-circle-up"),popupQuitBtn=document.querySelector(".main__container__desktop__popup__container__quit"),popup=document.querySelector(".main__container__desktop__popup"),searchingDesktopBtn=document.querySelector(".nav__container__desktop__menu__button--search"),mobileFiltrCleanerBtn=document.querySelector(".MobileClearBtn"),mobileFiltrSearchBtn=document.querySelector(".MobileSearchBtn"),DesktopFiltrCleanerBtn=document.querySelector(".DesktopTrashBtn"),DesktopFiltrSearchBtn=document.querySelector(".DesktopSearchBtn"),searchDesktopInput=document.querySelector(".searchDesktopInput"),searchMobileInput=document.querySelector(".searchMobileInput"),classNumber12RegExp=/[1-2]/,classNumber3RegExp=/3/,classNumber4RegExp=/4/,inputLength=/^.{2}$/,classletter12RegExp=/[a-dA-D]/,classletter3RegExp=/[a-gA-G]/,classletter4RegExp=/[a-cA-c]/,mobileClassesIds=[Cl1AM,Cl1BM,Cl1CM,Cl1DM,Cl2AM,Cl2BM,Cl2CM,Cl2DM,Cl3AM,Cl3BM,Cl3CM,Cl3DM,Cl3EM,Cl3FM,Cl3GM,Cl4AM,Cl4BM,Cl4CM],desktopClassesIds=[Cl1AD,Cl1BD,Cl1CD,Cl1DD,Cl2AD,Cl2BD,Cl2CD,Cl2DD,Cl3AD,Cl3BD,Cl3CD,Cl3DD,Cl3ED,Cl3FD,Cl3GD,Cl4AD,Cl4BD,Cl4CD],navColapseMobile=function(){navBtnCollapse.classList.toggle("active"),navBtnCollapse.classList.contains("active")?(navIcon.style.transform="rotate(0deg)",navigation.style.bottom="-99px"):(navIcon.style.transform="rotate(-180deg)",navigation.style.bottom="0"),searchMobileInput.setAttribute("placeholder","Podaj swoją klasę...")},quitingPopup=function(){popup.classList.toggle("Disabled"),popup.classList.remove("Active"),popup.classList.contains("Disabled")&&(popup.style.opacity="0",popup.style.zIndex="-10"),searchDesktopInput.setAttribute("placeholder","Podaj swoją klasę...")},showingPopup=function(){popup.classList.toggle("Active"),popup.classList.remove("Disabled"),popup.classList.contains("Active")&&(popup.style.opacity="1",popup.style.zIndex="5")},cleaningCardClasses=function(){mobileClassesIds.forEach(function(e){e.classList.contains("hidden")?e.classList.remove("hidden"):e.classList.contains("active")&&e.classList.remove("active")}),desktopClassesIds.forEach(function(e){e.classList.contains("hidden")?e.classList.remove("hidden"):e.classList.contains("active")&&e.classList.remove("active")})},showingMobileResults=function(){cleaningCardClasses(),mobileClassesIds.forEach(function(e){var t,s,l,n,a,o;searchMobileInput.value.match(inputLength)?(t=function(){navBtnCollapse.classList.remove("active"),navIcon.style.transform="rotate(-180deg)",navigation.style.bottom="0"},s=e.children[0].children[0].innerText,n=(l=searchMobileInput.value)[1].toUpperCase(),o=function(){s!==a?(e.classList.toggle("hidden"),e.style.display="none"):s===a&&(e.style.display="block",e.classList.toggle("active"))},(a=searchMobileInput.value.replace(l[1],n))[0].match(classNumber12RegExp)?a[1].match(classletter12RegExp)&&(o(),t(),searchMobileInput.setAttribute("placeholder","Podaj swoją klasę...")):a[0].match(classNumber3RegExp)?a[1].match(classletter3RegExp)&&(o(),t(),searchMobileInput.setAttribute("placeholder","Podaj swoją klasę...")):a[0].match(classNumber4RegExp)?a[1].match(classletter4RegExp)&&(o(),t(),searchMobileInput.setAttribute("placeholder","Podaj swoją klasę...")):searchMobileInput.setAttribute("placeholder","Spróbuj ponownie...")):searchMobileInput.setAttribute("placeholder","Spróbuj ponownie...")}),searchMobileInput.value=""},cleaningMobileResults=function(){mobileClassesIds.forEach(function(e){e.classList.contains("hidden")?(e.style.display="block",e.classList.toggle("hidden")):e.classList.toggle("active")}),searchMobileInput.value="",navColapseMobile()},showingDesktopResults=function(){cleaningCardClasses(),desktopClassesIds.forEach(function(e){var t,s,l,n,a;searchDesktopInput.value.match(inputLength)?(t=e.children[0].children[0].innerText,l=(s=searchDesktopInput.value)[1].toUpperCase(),a=function(){t!==n?(e.classList.toggle("hidden"),e.style.display="none"):t===n&&(e.style.display="block",e.classList.toggle("active"))},(n=searchDesktopInput.value.replace(s[1],l))[0].match(classNumber12RegExp)?n[1].match(classletter12RegExp)&&(a(),quitingPopup(),searchDesktopInput.setAttribute("placeholder","Podaj swoją klasę...")):n[0].match(classNumber3RegExp)?n[1].match(classletter3RegExp)&&(a(),quitingPopup(),searchDesktopInput.setAttribute("placeholder","Podaj swoją klasę...")):n[0].match(classNumber4RegExp)?n[1].match(classletter4RegExp)&&(a(),quitingPopup(),searchDesktopInput.setAttribute("placeholder","Podaj swoją klasę...")):searchDesktopInput.setAttribute("placeholder","Spróbuj ponownie...")):searchDesktopInput.setAttribute("placeholder","Spróbuj ponownie...")}),searchDesktopInput.value=""},cleaningDesktopResults=function(){desktopClassesIds.forEach(function(e){e.classList.contains("hidden")?(e.style.display="block",e.classList.toggle("hidden")):e.classList.toggle("active")}),searchMobileInput.value="",quitingPopup()},enterFunctionM=function(e){13===e.keyCode&&showingMobileResults()},enterFunctionD=function(e){13===e.keyCode&&showingDesktopResults()};navBtnCollapse.addEventListener("click",navColapseMobile),popupQuitBtn.addEventListener("click",quitingPopup),searchingDesktopBtn.addEventListener("click",showingPopup),mobileFiltrSearchBtn.addEventListener("click",showingMobileResults),mobileFiltrCleanerBtn.addEventListener("click",cleaningMobileResults),DesktopFiltrSearchBtn.addEventListener("click",showingDesktopResults),DesktopFiltrCleanerBtn.addEventListener("click",cleaningDesktopResults),searchMobileInput.addEventListener("keyup",enterFunctionM),searchDesktopInput.addEventListener("keyup",enterFunctionD);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibmF2aWdhdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5hdkJ0bkNvbGxhcHNlIiwibmF2SWNvbiIsInBvcHVwUXVpdEJ0biIsInBvcHVwIiwic2VhcmNoaW5nRGVza3RvcEJ0biIsIm1vYmlsZUZpbHRyQ2xlYW5lckJ0biIsIm1vYmlsZUZpbHRyU2VhcmNoQnRuIiwiRGVza3RvcEZpbHRyQ2xlYW5lckJ0biIsIkRlc2t0b3BGaWx0clNlYXJjaEJ0biIsInNlYXJjaERlc2t0b3BJbnB1dCIsImNsYXNzTnVtYmVyM1JlZ0V4cCIsImNsYXNzTnVtYmVyNFJlZ0V4cCIsImlucHV0TGVuZ3RoIiwiY2xhc3NsZXR0ZXIxMlJlZ0V4cCIsImNsYXNzbGV0dGVyM1JlZ0V4cCIsImNsYXNzbGV0dGVyNFJlZ0V4cCIsIm1vYmlsZUNsYXNzZXNJZHMiLCJDbDFBTSIsIm5hdkNvbGFwc2VNb2JpbGUiLCJDbDJBTSIsIkNsMkJNIiwiQ2wyQ00iLCJDbDJETSIsIkNsM0FNIiwiQ2wzQk0iLCJDbDNDTSIsIkNsM0RNIiwiQ2wzRU0iLCJDbDNGTSIsIkNsM0dNIiwiQ2w0QU0iLCJDbDRCTSIsIkNsNENNIiwidG9nZ2xlIiwiQ2wxQkQiLCJDbDFDRCIsIkNsMUREIiwiQ2wyQUQiLCJDbDJCRCIsIkNsMkNEIiwiQ2wyREQiLCJDbDNBRCIsIkNsM0JEIiwiQ2wzQ0QiLCJDbDNERCIsIkNsM0VEIiwiQ2wzRkQiLCJDbDNHRCIsIkNsNEFEIiwiQ2w0QkQiLCJDbDRDRCIsImJvdHRvbSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJzZWFyY2hNb2JpbGVJbnB1dCIsInNldEF0dHJpYnV0ZSIsInF1aXRpbmdQb3B1cCIsIm9wYWNpdHkiLCJ6SW5kZXgiLCJyZW1vdmUiLCJzaG93aW5nUG9wdXAiLCJjbGVhbmluZ0NhcmRDbGFzc2VzIiwic2Nob29sQ2xhc3MiLCJkZXNrdG9wQ2xhc3Nlc0lkcyIsImluc2lkZU5hdkNvbGxhcHNlSGlkZSIsInNob3dpbmdBbmRIaWRkaW5nQ2xhc3NlcyIsImNsYXNzTmFtZSIsIm1hdGNoIiwiY2xhc3NIdG1sIiwiY2xhc3NDaGlsZHJlbiIsImNoaWxkcmVuIiwiaW5uZXJUZXh0IiwiY29ycmVjdElucHV0VmFsdWUiLCJ2YWx1ZSIsInRvVXBwZXJDYXNlIiwiZGlzcGxheSIsImNsYXNzTnVtYmVyMTJSZWdFeHAiLCJyZXBsYWNlIiwiaW5wdXRWYWx1ZU9yaWdpbmFsIiwiaW5wdXRWYWx1ZUZpeCIsImZvckVhY2giLCJjbGVhbmluZ01vYmlsZVJlc3VsdHMiLCJzaG93aW5nRGVza3RvcFJlc3VsdHMiLCJjbGVhbmluZ0Rlc2t0b3BSZXN1bHRzIiwiZW50ZXJGdW5jdGlvbk0iLCJldmVudCIsInNob3dpbmdNb2JpbGVSZXN1bHRzIiwia2V5Q29kZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbnRlckZ1bmN0aW9uRCJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBQUEsV0FBQUMsU0FBQUMsY0FBQSxpQ0FFTUYsZUFBYUMsU0FBU0MsY0FBYyw2Q0FDcENDLFFBQUFBLFNBQWlCRixjQUFTQyx5QkFDMUJFLGFBQVVILFNBQVNDLGNBQWMscURBQ2pDRyxNQUFBQSxTQUFlSixjQUFTQyxvQ0FDeEJJLG9CQUFpQkosU0FBY0EsY0FBQSxrREFDL0JLLHNCQUFzQk4sU0FBU0MsY0FBYyxtQkFDN0NNLHFCQUF3QlAsU0FBU0MsY0FBYyxvQkFDL0NPLHVCQUF1QlIsU0FBU0MsY0FBYyxvQkFDOUNRLHNCQUF5QlQsU0FBU0MsY0FBYyxxQkFDaERTLG1CQUFxQlYsU0FBV0MsY0FBUix1QkFDeEJVLGtCQUFxQlgsU0FBU0MsY0FBYyxzQkFNNUNXLG9CQUFOLFFBQ01DLG1CQUFxQixJQUNyQkMsbUJBQU4sSUFDTUMsWUFBQUEsU0FDQUMsb0JBQXFCLFdBQ3JCQyxtQkFBcUIsV0FHckJDLG1CQUFvQkMsV0FLcEJDLGlCQUFtQixDQUFBRCxNQUFuQkMsTUFBQUEsTUFBQUEsTUFBeUJDLE1BQUFDLE1BQUFD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QTFDTFUsdUJBMkNPLFdBQ0g1RSxrQkFBQUEsUUFBbUJnRCxTQUFBQSxHQUN0Qk8sRUFBQVosVUFBQUMsU0FBQSxXQVNHVyxFQUFZVixNQUFNdUIsUUFBVSxRQVQvQmIsRUFBQVosVUFBQW5CLE9BQUEsV0FHTHhCLEVBQW1Ca0UsVUFBbkIxQyxPQUFBLFlBSUFnQyxrQkFBa0JpQixNQUFRLEdBQ3RCeEIsZ0JBQUE0QixlQUdPLFNBQUFDLEdBQ1NuQyxLQUFaWSxFQUFBQSxTQUNId0Isd0JBR0xoQyxlQUFrQm1CLFNBQUFBLEdBQ04sS0FBWmpCLEVBQVkrQixTQVhoQkwseUJBNEJBcEYsZUFBZTBGLGlCQUFpQixRQUFTeEUsa0JBWHBDaEIsYUFBQXdGLGlCQUFBLFFBQUFoQyxjQUNKdEQsb0JBSkRzRixpQkFBQSxRQUFBNUIsY0FpQkF4RCxxQkFBcUJvRixpQkFBaUIsUUFBU0Ysc0JBWC9DbkYsc0JBQXVCcUYsaUJBQWpCQyxRQUFrQkosdUJBQ3BCL0Usc0JBQUlrRixpQkFBc0IsUUFBQU4sdUJBQ3RCQSx1QkFBQUEsaUJBQXFCLFFBQUFDLHdCQUN4QjdCLGtCQUFBa0MsaUJBQUEsUUFBQUosZ0JBYUw3RSxtQkFBbUJpRixpQkFBaUIsUUFBU0MiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBEb20gZWxlbWVudHNcclxuXHJcbmNvbnN0IG5hdmlnYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19jb250YWluZXJfX21vYmlsZV9fcGFnZScpO1xyXG5jb25zdCBuYXZCdG5Db2xsYXBzZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2NvbnRhaW5lcl9fbW9iaWxlX19idXR0b25fX2NvbGxhcHNlJyk7XHJcbmNvbnN0IG5hdkljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtY2hldnJvbi1jaXJjbGUtdXAnKTtcclxuY29uc3QgcG9wdXBRdWl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5fX2NvbnRhaW5lcl9fZGVza3RvcF9fcG9wdXBfX2NvbnRhaW5lcl9fcXVpdCcpO1xyXG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluX19jb250YWluZXJfX2Rlc2t0b3BfX3BvcHVwJyk7XHJcbmNvbnN0IHNlYXJjaGluZ0Rlc2t0b3BCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19jb250YWluZXJfX2Rlc2t0b3BfX21lbnVfX2J1dHRvbi0tc2VhcmNoJyk7XHJcbmNvbnN0IG1vYmlsZUZpbHRyQ2xlYW5lckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Nb2JpbGVDbGVhckJ0bicpO1xyXG5jb25zdCBtb2JpbGVGaWx0clNlYXJjaEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Nb2JpbGVTZWFyY2hCdG4nKTtcclxuY29uc3QgRGVza3RvcEZpbHRyQ2xlYW5lckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5EZXNrdG9wVHJhc2hCdG4nKTtcclxuY29uc3QgRGVza3RvcEZpbHRyU2VhcmNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkRlc2t0b3BTZWFyY2hCdG4nKTtcclxuY29uc3Qgc2VhcmNoRGVza3RvcElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaERlc2t0b3BJbnB1dCcpO1xyXG5jb25zdCBzZWFyY2hNb2JpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2hNb2JpbGVJbnB1dCcpO1xyXG5cclxuLy8gVmFyaWFibGVzXHJcblxyXG5jb25zdCBjbGFzc051bWJlcjEyUmVnRXhwID0gL1sxLTJdLztcclxuY29uc3QgY2xhc3NOdW1iZXIzUmVnRXhwID0gLzMvO1xyXG5jb25zdCBjbGFzc051bWJlcjRSZWdFeHAgPSAvNC87XHJcbmNvbnN0IGlucHV0TGVuZ3RoID0gL14uezJ9JC87XHJcbmNvbnN0IGNsYXNzbGV0dGVyMTJSZWdFeHAgPSAvW2EtZEEtRF0vO1xyXG5jb25zdCBjbGFzc2xldHRlcjNSZWdFeHAgPSAvW2EtZ0EtR10vO1xyXG5jb25zdCBjbGFzc2xldHRlcjRSZWdFeHAgPSAvW2EtY0EtY10vO1xyXG5cclxuXHJcbmNvbnN0IG1vYmlsZUNsYXNzZXNJZHMgPSBbQ2wxQU0sIENsMUJNLCBDbDFDTSwgQ2wxRE0sIENsMkFNLCBDbDJCTSwgQ2wyQ00sIENsMkRNLCBDbDNBTSwgQ2wzQk0sIENsM0NNLCBDbDNETSwgQ2wzRU0sIENsM0ZNLCBDbDNHTSwgQ2w0QU0sIENsNEJNLCBDbDRDTV07XHJcbmNvbnN0IGRlc2t0b3BDbGFzc2VzSWRzID0gW0NsMUFELCBDbDFCRCwgQ2wxQ0QsIENsMURELCBDbDJBRCwgQ2wyQkQsIENsMkNELCBDbDJERCwgQ2wzQUQsIENsM0JELCBDbDNDRCwgQ2wzREQsIENsM0VELCBDbDNGRCwgQ2wzR0QsIENsNEFELCBDbDRCRCwgQ2w0Q0RdO1xyXG5cclxuLy8gQ29sYXBzaW5nIG5hdlxyXG5cclxuY29uc3QgbmF2Q29sYXBzZU1vYmlsZSA9ICgpID0+IHtcclxuICAgIG5hdkJ0bkNvbGxhcHNlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG5cclxuICAgIGlmIChuYXZCdG5Db2xsYXBzZS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgbmF2SWNvbi5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgwZGVnKVwiO1xyXG4gICAgICAgIG5hdmlnYXRpb24uc3R5bGUuYm90dG9tID0gXCItOTlweFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBuYXZJY29uLnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKC0xODBkZWcpXCI7XHJcbiAgICAgICAgbmF2aWdhdGlvbi5zdHlsZS5ib3R0b20gPSBcIjBcIjtcclxuICAgIH07XHJcblxyXG4gICAgc2VhcmNoTW9iaWxlSW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIFwiUG9kYWogc3dvasSFIGtsYXPEmS4uLlwiKTtcclxufTtcclxuXHJcbi8vIFF1aXRpbmcgcG9wdXBcclxuXHJcbmNvbnN0IHF1aXRpbmdQb3B1cCA9ICgpID0+IHtcclxuICAgIHBvcHVwLmNsYXNzTGlzdC50b2dnbGUoJ0Rpc2FibGVkJyk7XHJcbiAgICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdBY3RpdmUnKTtcclxuXHJcbiAgICBpZiAocG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdEaXNhYmxlZCcpKSB7XHJcbiAgICAgICAgcG9wdXAuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xyXG4gICAgICAgIHBvcHVwLnN0eWxlLnpJbmRleCA9IFwiLTEwXCI7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlYXJjaERlc2t0b3BJbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgXCJQb2RhaiBzd29qxIUga2xhc8SZLi4uXCIpO1xyXG59O1xyXG5cclxuLy8gc2hvd2luZyBwb3B1cFxyXG5cclxuY29uc3Qgc2hvd2luZ1BvcHVwID0gKCkgPT4ge1xyXG4gICAgcG9wdXAuY2xhc3NMaXN0LnRvZ2dsZSgnQWN0aXZlJyk7XHJcbiAgICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdEaXNhYmxlZCcpO1xyXG5cclxuICAgIGlmIChwb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoJ0FjdGl2ZScpKSB7XHJcbiAgICAgICAgcG9wdXAuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xyXG4gICAgICAgIHBvcHVwLnN0eWxlLnpJbmRleCA9IFwiNVwiO1xyXG4gICAgfTtcclxufTtcclxuXHJcbi8vIENsZWFuaW5nIENsYXNzZXNcclxuXHJcbmNvbnN0IGNsZWFuaW5nQ2FyZENsYXNzZXMgPSAoKSA9PiB7XHJcbiAgICBtb2JpbGVDbGFzc2VzSWRzLmZvckVhY2goc2Nob29sQ2xhc3MgPT4ge1xyXG4gICAgICAgIGlmIChzY2hvb2xDbGFzcy5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRkZW5cIikpIHtcclxuICAgICAgICAgICAgc2Nob29sQ2xhc3MuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzY2hvb2xDbGFzcy5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgc2Nob29sQ2xhc3MuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2t0b3BDbGFzc2VzSWRzLmZvckVhY2goc2Nob29sQ2xhc3MgPT4ge1xyXG4gICAgICAgIGlmIChzY2hvb2xDbGFzcy5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRkZW5cIikpIHtcclxuICAgICAgICAgICAgc2Nob29sQ2xhc3MuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzY2hvb2xDbGFzcy5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICAgICAgc2Nob29sQ2xhc3MuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy8gQ2xhc3MgZmlsdGVyc1xyXG5cclxuY29uc3Qgc2hvd2luZ01vYmlsZVJlc3VsdHMgPSAoKSA9PiB7XHJcbiAgICBjbGVhbmluZ0NhcmRDbGFzc2VzKCk7XHJcblxyXG4gICAgbW9iaWxlQ2xhc3Nlc0lkcy5mb3JFYWNoKHNjaG9vbENsYXNzID0+IHtcclxuICAgICAgICBpZiAoc2VhcmNoTW9iaWxlSW5wdXQudmFsdWUubWF0Y2goaW5wdXRMZW5ndGgpKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBpbnNpZGVOYXZDb2xsYXBzZUhpZGUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBuYXZCdG5Db2xsYXBzZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBuYXZJY29uLnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKC0xODBkZWcpXCI7XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uLnN0eWxlLmJvdHRvbSA9IFwiMFwiO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgbGV0IGNsYXNzQ2hpbGRyZW4gPSBzY2hvb2xDbGFzcy5jaGlsZHJlblswXTtcclxuICAgICAgICAgICAgbGV0IGNsYXNzSHRtbCA9IGNsYXNzQ2hpbGRyZW4uY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGxldCBjbGFzc05hbWUgPSBjbGFzc0h0bWxbMF0uaW5uZXJUZXh0O1xyXG4gICAgICAgICAgICBsZXQgaW5wdXRWYWx1ZU9yaWdpbmFsID0gc2VhcmNoTW9iaWxlSW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dFZhbHVlRml4ID0gaW5wdXRWYWx1ZU9yaWdpbmFsWzFdLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIGxldCBjb3JyZWN0SW5wdXRWYWx1ZSA9IHNlYXJjaE1vYmlsZUlucHV0LnZhbHVlLnJlcGxhY2UoaW5wdXRWYWx1ZU9yaWdpbmFsWzFdLCBpbnB1dFZhbHVlRml4KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNob3dpbmcgQ2FyZHNcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNob3dpbmdBbmRIaWRkaW5nQ2xhc3NlcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjbGFzc05hbWUgIT09IGNvcnJlY3RJbnB1dFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nob29sQ2xhc3MuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nob29sQ2xhc3Muc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjbGFzc05hbWUgPT09IGNvcnJlY3RJbnB1dFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nob29sQ2xhc3Muc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgICAgICBzY2hvb2xDbGFzcy5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVja2luZyBhbmQgZXhlY3V0aW5nXHJcblxyXG4gICAgICAgICAgICBpZiAoY29ycmVjdElucHV0VmFsdWVbMF0ubWF0Y2goY2xhc3NOdW1iZXIxMlJlZ0V4cCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb3JyZWN0SW5wdXRWYWx1ZVsxXS5tYXRjaChjbGFzc2xldHRlcjEyUmVnRXhwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dpbmdBbmRIaWRkaW5nQ2xhc3NlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluc2lkZU5hdkNvbGxhcHNlSGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaE1vYmlsZUlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBcIlBvZGFqIHN3b2rEhSBrbGFzxJkuLi5cIik7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvcnJlY3RJbnB1dFZhbHVlWzBdLm1hdGNoKGNsYXNzTnVtYmVyM1JlZ0V4cCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb3JyZWN0SW5wdXRWYWx1ZVsxXS5tYXRjaChjbGFzc2xldHRlcjNSZWdFeHApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd2luZ0FuZEhpZGRpbmdDbGFzc2VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zaWRlTmF2Q29sbGFwc2VIaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoTW9iaWxlSW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsIFwiUG9kYWogc3dvasSFIGtsYXPEmS4uLlwiKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29ycmVjdElucHV0VmFsdWVbMF0ubWF0Y2goY2xhc3NOdW1iZXI0UmVnRXhwKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvcnJlY3RJbnB1dFZhbHVlWzFdLm1hdGNoKGNsYXNzbGV0dGVyNFJlZ0V4cCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaG93aW5nQW5kSGlkZGluZ0NsYXNzZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBpbnNpZGVOYXZDb2xsYXBzZUhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hNb2JpbGVJbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgXCJQb2RhaiBzd29qxIUga2xhc8SZLi4uXCIpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlYXJjaE1vYmlsZUlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBcIlNwcsOzYnVqIHBvbm93bmllLi4uXCIpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlYXJjaE1vYmlsZUlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBcIlNwcsOzYnVqIHBvbm93bmllLi4uXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICBzZWFyY2hNb2JpbGVJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbn07XHJcblxyXG5jb25zdCBjbGVhbmluZ01vYmlsZVJlc3VsdHMgPSAoKSA9PiB7XHJcbiAgICBtb2JpbGVDbGFzc2VzSWRzLmZvckVhY2goc2Nob29sQ2xhc3MgPT4ge1xyXG4gICAgICAgIGlmIChzY2hvb2xDbGFzcy5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRkZW5cIikpIHtcclxuICAgICAgICAgICAgc2Nob29sQ2xhc3Muc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgc2Nob29sQ2xhc3MuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2Nob29sQ2xhc3MuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNlYXJjaE1vYmlsZUlucHV0LnZhbHVlID0gXCJcIjtcclxuICAgIG5hdkNvbGFwc2VNb2JpbGUoKTtcclxufTtcclxuXHJcbi8vIERlc2t0b3BcclxuXHJcbmNvbnN0IHNob3dpbmdEZXNrdG9wUmVzdWx0cyA9ICgpID0+IHtcclxuICAgIGNsZWFuaW5nQ2FyZENsYXNzZXMoKTtcclxuXHJcbiAgICBkZXNrdG9wQ2xhc3Nlc0lkcy5mb3JFYWNoKHNjaG9vbENsYXNzID0+IHtcclxuXHJcbiAgICAgICAgaWYgKHNlYXJjaERlc2t0b3BJbnB1dC52YWx1ZS5tYXRjaChpbnB1dExlbmd0aCkpIHtcclxuICAgICAgICAgICAgbGV0IGNsYXNzQ2hpbGRyZW4gPSBzY2hvb2xDbGFzcy5jaGlsZHJlblswXTtcclxuICAgICAgICAgICAgbGV0IGNsYXNzSHRtbCA9IGNsYXNzQ2hpbGRyZW4uY2hpbGRyZW47XHJcbiAgICAgICAgICAgIGxldCBjbGFzc05hbWUgPSBjbGFzc0h0bWxbMF0uaW5uZXJUZXh0O1xyXG4gICAgICAgICAgICBsZXQgaW5wdXRWYWx1ZU9yaWdpbmFsID0gc2VhcmNoRGVza3RvcElucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICBsZXQgaW5wdXRWYWx1ZUZpeCA9IGlucHV0VmFsdWVPcmlnaW5hbFsxXS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICBsZXQgY29ycmVjdElucHV0VmFsdWUgPSBzZWFyY2hEZXNrdG9wSW5wdXQudmFsdWUucmVwbGFjZShpbnB1dFZhbHVlT3JpZ2luYWxbMV0sIGlucHV0VmFsdWVGaXgpO1xyXG5cclxuICAgICAgICAgICAgLy8gU2hvd2luZyBDYXJkc1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgc2hvd2luZ0FuZEhpZGRpbmdDbGFzc2VzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSAhPT0gY29ycmVjdElucHV0VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY2hvb2xDbGFzcy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgICAgICBzY2hvb2xDbGFzcy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNsYXNzTmFtZSA9PT0gY29ycmVjdElucHV0VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY2hvb2xDbGFzcy5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjaG9vbENsYXNzLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNraW5nIGFuZCBleGVjdXRpbmdcclxuXHJcbiAgICAgICAgICAgIGlmIChjb3JyZWN0SW5wdXRWYWx1ZVswXS5tYXRjaChjbGFzc051bWJlcjEyUmVnRXhwKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvcnJlY3RJbnB1dFZhbHVlWzFdLm1hdGNoKGNsYXNzbGV0dGVyMTJSZWdFeHApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd2luZ0FuZEhpZGRpbmdDbGFzc2VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVpdGluZ1BvcHVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoRGVza3RvcElucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBcIlBvZGFqIHN3b2rEhSBrbGFzxJkuLi5cIik7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvcnJlY3RJbnB1dFZhbHVlWzBdLm1hdGNoKGNsYXNzTnVtYmVyM1JlZ0V4cCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb3JyZWN0SW5wdXRWYWx1ZVsxXS5tYXRjaChjbGFzc2xldHRlcjNSZWdFeHApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd2luZ0FuZEhpZGRpbmdDbGFzc2VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVpdGluZ1BvcHVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoRGVza3RvcElucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBcIlBvZGFqIHN3b2rEhSBrbGFzxJkuLi5cIik7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvcnJlY3RJbnB1dFZhbHVlWzBdLm1hdGNoKGNsYXNzTnVtYmVyNFJlZ0V4cCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb3JyZWN0SW5wdXRWYWx1ZVsxXS5tYXRjaChjbGFzc2xldHRlcjRSZWdFeHApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd2luZ0FuZEhpZGRpbmdDbGFzc2VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVpdGluZ1BvcHVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoRGVza3RvcElucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBcIlBvZGFqIHN3b2rEhSBrbGFzxJkuLi5cIik7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoRGVza3RvcElucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBcIlNwcsOzYnVqIHBvbm93bmllLi4uXCIpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlYXJjaERlc2t0b3BJbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgXCJTcHLDs2J1aiBwb25vd25pZS4uLlwiKTtcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2VhcmNoRGVza3RvcElucHV0LnZhbHVlID0gXCJcIjtcclxufTtcclxuXHJcbmNvbnN0IGNsZWFuaW5nRGVza3RvcFJlc3VsdHMgPSAoKSA9PiB7XHJcbiAgICBkZXNrdG9wQ2xhc3Nlc0lkcy5mb3JFYWNoKHNjaG9vbENsYXNzID0+IHtcclxuICAgICAgICBpZiAoc2Nob29sQ2xhc3MuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGlkZGVuXCIpKSB7XHJcbiAgICAgICAgICAgIHNjaG9vbENsYXNzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgIHNjaG9vbENsYXNzLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNjaG9vbENsYXNzLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICBzZWFyY2hNb2JpbGVJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICBxdWl0aW5nUG9wdXAoKTtcclxufTtcclxuXHJcbmNvbnN0IGVudGVyRnVuY3Rpb25NID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICBzaG93aW5nTW9iaWxlUmVzdWx0cygpO1xyXG4gICAgfTtcclxufTtcclxuXHJcbmNvbnN0IGVudGVyRnVuY3Rpb25EID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICBzaG93aW5nRGVza3RvcFJlc3VsdHMoKTtcclxuICAgIH07XHJcbn07XHJcblxyXG4vLyBMaXN0ZW5lcnNcclxuXHJcbm5hdkJ0bkNvbGxhcHNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbmF2Q29sYXBzZU1vYmlsZSk7XHJcbnBvcHVwUXVpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHF1aXRpbmdQb3B1cCk7XHJcbnNlYXJjaGluZ0Rlc2t0b3BCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93aW5nUG9wdXApO1xyXG5tb2JpbGVGaWx0clNlYXJjaEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dpbmdNb2JpbGVSZXN1bHRzKTtcclxubW9iaWxlRmlsdHJDbGVhbmVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xlYW5pbmdNb2JpbGVSZXN1bHRzKTtcclxuRGVza3RvcEZpbHRyU2VhcmNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd2luZ0Rlc2t0b3BSZXN1bHRzKTtcclxuRGVza3RvcEZpbHRyQ2xlYW5lckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsZWFuaW5nRGVza3RvcFJlc3VsdHMpO1xyXG5zZWFyY2hNb2JpbGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGVudGVyRnVuY3Rpb25NKTtcclxuc2VhcmNoRGVza3RvcElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZW50ZXJGdW5jdGlvbkQpO1xyXG4iXX0=
