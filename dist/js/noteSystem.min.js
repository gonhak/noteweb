"use strict";var navigation=document.querySelector(".nav__container__mobile__page"),navBtnCollapse=document.querySelector(".nav__container__mobile__button__collapse"),navIcon=document.querySelector(".fa-chevron-circle-up"),popupQuitBtn=document.querySelector(".main__desktop__popup__container__quit"),popup=document.querySelector(".main__desktop__popup"),searchingDesktopBtn=document.querySelector(".nav__container__desktop__menu__button--search"),mobileFiltrCleanerBtn=document.querySelector(".MobileClearBtn"),mobileFiltrSearchBtn=document.querySelector(".MobileSearchBtn"),DesktopFiltrCleanerBtn=document.querySelector(".DesktopTrashBtn"),DesktopFiltrSearchBtn=document.querySelector(".DesktopSearchBtn"),searchDesktopInput=document.querySelector(".searchDesktopInput"),searchMobileInput=document.querySelector(".searchMobileInput"),cleaningCardClasses=function(){mobileNote.forEach(function(e){e.classList.contains("hidden")?e.classList.remove("hidden"):e.classList.contains("active")&&e.classList.remove("active")}),desktopNote.forEach(function(e){e.classList.contains("hidden")?e.classList.remove("hidden"):e.classList.contains("active")&&e.classList.remove("active")})},navColapseMobile=function(){navBtnCollapse.classList.toggle("active"),navBtnCollapse.classList.contains("active")?(navIcon.style.transform="rotate(0deg)",navigation.style.bottom="-99px"):(navIcon.style.transform="rotate(-180deg)",navigation.style.bottom="0"),searchMobileInput.setAttribute("placeholder","Podaj swoją klasę...")},quitingPopup=function(){popup.classList.toggle("Disabled"),popup.classList.remove("Active"),popup.classList.contains("Disabled")&&(popup.style.opacity="0",popup.style.zIndex="-10")},showingPopup=function(){popup.classList.toggle("Active"),popup.classList.remove("Disabled"),popup.classList.contains("Active")&&(popup.style.opacity="1",popup.style.zIndex="5")},showingDesktopResults=function(){cleaningCardClasses();var n=searchDesktopInput.value.split("-").reverse().join("-").replace("-",".").replace("-",".");desktopNoteDateSpans.forEach(function(e){var t=e.parentElement.parentElement.parentElement;e.innerText===n?(t.style.display="block",t.classList.add("Active")):e.innerText!==n&&(t.style.display="none",t.classList.add("hidden"))}),searchDesktopInput.value="",quitingPopup()},cleaningDesktopResults=function(){desktopNote.forEach(function(e){e.classList.contains("hidden")?(e.style.display="block",e.classList.remove("hidden")):e.classList.remove("active")}),searchDesktopInput.value="",quitingPopup()},showingMobileResults=function(){cleaningCardClasses();var n=searchMobileInput.value.split("-").reverse().join("-").replace("-",".").replace("-",".");mobileNoteDateSpans.forEach(function(e){var t=e.parentElement.parentElement.parentElement;e.innerText===n?(t.style.display="block",t.classList.add("Active")):e.innerText!==n&&(t.style.display="none",t.classList.add("hidden"))}),navBtnCollapse.classList.remove("active"),navIcon.style.transform="rotate(-180deg)",navigation.style.bottom="0",searchMobileInput.value="",quitingPopup()},cleaningMobileResults=function(){mobileNote.forEach(function(e){e.classList.contains("hidden")?(e.style.display="block",e.classList.remove("hidden")):e.classList.remove("active")}),searchMobileInput.value="",navColapseMobile()},enterFunctionM=function(e){13===e.keyCode&&showingMobileResults()},enterFunctionD=function(e){13===e.keyCode&&showingDesktopResults()};navBtnCollapse.addEventListener("click",navColapseMobile),popupQuitBtn.addEventListener("click",quitingPopup),searchingDesktopBtn.addEventListener("click",showingPopup),mobileFiltrSearchBtn.addEventListener("click",showingMobileResults),mobileFiltrCleanerBtn.addEventListener("click",cleaningMobileResults),DesktopFiltrSearchBtn.addEventListener("click",showingDesktopResults),DesktopFiltrCleanerBtn.addEventListener("click",cleaningDesktopResults),searchMobileInput.addEventListener("keyup",enterFunctionM),searchDesktopInput.addEventListener("keyup",enterFunctionD);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdGVTeXN0ZW0uanMiXSwibmFtZXMiOlsibmF2aWdhdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5hdkJ0bkNvbGxhcHNlIiwicG9wdXAiLCJtb2JpbGVGaWx0clNlYXJjaEJ0biIsIm1vYmlsZUZpbHRyQ2xlYW5lckJ0biIsInNlYXJjaERlc2t0b3BJbnB1dCIsIm1vYmlsZU5vdGUiLCJub3RlIiwiRGVza3RvcEZpbHRyU2VhcmNoQnRuIiwiY29udGFpbnMiLCJzZWFyY2hNb2JpbGVJbnB1dCIsImNsZWFuaW5nQ2FyZENsYXNzZXMiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJkZXNrdG9wTm90ZSIsImZvckVhY2giLCJuYXZDb2xhcHNlTW9iaWxlIiwidG9nZ2xlIiwic2V0QXR0cmlidXRlIiwibmF2SWNvbiIsInN0eWxlIiwidHJhbnNmb3JtIiwiYm90dG9tIiwicXVpdGluZ1BvcHVwIiwic2hvd2luZ1BvcHVwIiwic2hvd2luZ0Rlc2t0b3BSZXN1bHRzIiwicGFyZW50RWxlbWVudCIsImZpbmFsRGF0ZURlc2t0b3AiLCJ2YWx1ZSIsInNwbGl0IiwicmV2ZXJzZSIsImpvaW4iLCJyZXBsYWNlIiwiTm90ZUNhcmQiLCJhZGQiLCJpbm5lclRleHQiLCJkaXNwbGF5IiwiY2xlYW5pbmdEZXNrdG9wUmVzdWx0cyIsInNob3dpbmdNb2JpbGVSZXN1bHRzIiwibmV3RGF0ZUZpcnN0RG90ZXNNb2JpbGUiLCJub3RlQ2FyZCIsIm1vYmlsZU5vdGVEYXRlU3BhbnMiLCJpbnNpZGVOYXZDb2xsYXBzZUhpZGUiLCJmaW5hbERhdGVNb2JpbGUiLCJjbGVhbmluZ01vYmlsZVJlc3VsdHMiLCJlbnRlckZ1bmN0aW9uTSIsImV2ZW50Iiwia2V5Q29kZSIsImVudGVyRnVuY3Rpb25EIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBvcHVwUXVpdEJ0biIsIkRlc2t0b3BGaWx0ckNsZWFuZXJCdG4iLCJzZWFyY2hpbmdEZXNrdG9wQnRuIl0sIm1hcHBpbmdzIjoiYUFD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QSxZQUFBQSxJQUNRWCxFQUFTYixNQUFBZ0IsUUFBUSxPQUNmSCxFQUFDckIsVUFBTHNCLElBQXdCLGFBaEJ4QjNCLGVBQUFLLFVBQW1CK0IsT0FBQUEsVUFFbkJWLFFBQVNyQixNQUFBQSxVQUFjLGtCQUYzQmQsV0FHZXNCLE1BQUNlLE9BQWNRLElBa0I3QmpDLGtCQUFBa0IsTUFBQSxHQVZMTCxnQkFhQWIsc0JBQUEsV0FDQU0sV0FBQUEsUUFBZ0IsU0FBQVQsR0FYcEJBLEVBQUFLLFVBQUFILFNBQUEsV0FHWUYsRUFBS2EsTUFBTWdCLFFBQVUsUUFXM0JTLEVBQUFBLFVBQWlCaEMsT0FBakJnQyxXQUVFUCxFQUFBQSxVQUFvQnpCLE9BQUEsWUFGNUJILGtCQUFBa0IsTUFBQSxHQUhJWixvQkFXSVMsZUFBQUEsU0FBQUEsR0FDSCxLQUFBcUIsRUFBQUMsU0FQR1Qsd0JBSUZVLGVBQWlCLFNBQUNGLEdBUVRHLEtBQWZoRCxFQUFjOEMsU0FDZEcseUJBVUExQyxlQUFBQSxpQkFBc0J5QyxRQUFpQmpDLGtCQUN2Q21DLGFBQUFBLGlCQUF1QkYsUUFBdkIxQixjQVZBNkIsb0JBQW9CSCxpQkFBaUIsUUFBU3pCLGNBSTlDckIscUJBQXFCOEMsaUJBQWlCLFFBQVNYLHNCQUMvQ2xDLHNCQUFzQjZDLGlCQUFpQixRQUFTTCx1QkFJaERwQyxzQkFBc0J5QyxpQkFBaUIsUUFBU3hCLHVCQUNoRDBCLHVCQUF1QkYsaUJBQWlCLFFBQVNaLHdCQUlqRDNCLGtCQUFrQnVDLGlCQUFpQixRQUFTSixnQkFDNUN4QyxtQkFBbUI0QyxpQkFBaUIsUUFBU0QiLCJmaWxlIjoibm90ZVN5c3RlbS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBEb20gZWxlbWVudHNcclxuLy8gTmF3aWNqYSBwcnp5Y2lzayBpIG9icmFjYW5hIGlrb25hXHJcblxyXG5jb25zdCBuYXZpZ2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fY29udGFpbmVyX19tb2JpbGVfX3BhZ2UnKTtcclxuY29uc3QgbmF2QnRuQ29sbGFwc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19jb250YWluZXJfX21vYmlsZV9fYnV0dG9uX19jb2xsYXBzZScpO1xyXG5jb25zdCBuYXZJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhLWNoZXZyb24tY2lyY2xlLXVwJyk7XHJcblxyXG4vLyBQb3B1cCB3eWNob2R6ZW5pZSBpIGNhxYJhIGplZ28gc3RydWt0dXJhXHJcblxyXG5jb25zdCBwb3B1cFF1aXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbl9fZGVza3RvcF9fcG9wdXBfX2NvbnRhaW5lcl9fcXVpdCcpO1xyXG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluX19kZXNrdG9wX19wb3B1cCcpO1xyXG5cclxuLy8gUHJ6eWNpc2sgTWVudSBzenVrYW5pZVxyXG5cclxuY29uc3Qgc2VhcmNoaW5nRGVza3RvcEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2NvbnRhaW5lcl9fZGVza3RvcF9fbWVudV9fYnV0dG9uLS1zZWFyY2gnKTtcclxuXHJcbi8vIEN6eXN6Y3plbmllIGkgc3p1a2FuaWUgbW9iaWxuZVxyXG5cclxuY29uc3QgbW9iaWxlRmlsdHJDbGVhbmVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLk1vYmlsZUNsZWFyQnRuJyk7XHJcbmNvbnN0IG1vYmlsZUZpbHRyU2VhcmNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLk1vYmlsZVNlYXJjaEJ0bicpO1xyXG5cclxuLy8gQ3p5c3pjemVuaWUgaSBzenVrYW5pZSBwb3B1cFxyXG5cclxuY29uc3QgRGVza3RvcEZpbHRyQ2xlYW5lckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5EZXNrdG9wVHJhc2hCdG4nKTtcclxuY29uc3QgRGVza3RvcEZpbHRyU2VhcmNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkRlc2t0b3BTZWFyY2hCdG4nKTtcclxuXHJcbi8vIElucHV0eVxyXG5cclxuY29uc3Qgc2VhcmNoRGVza3RvcElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaERlc2t0b3BJbnB1dCcpO1xyXG5jb25zdCBzZWFyY2hNb2JpbGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2hNb2JpbGVJbnB1dCcpO1xyXG5cclxuLy8gRGF0ZSBGb3JtYXRlclxyXG5cclxuY29uc3QgY2xlYW5pbmdDYXJkQ2xhc3NlcyA9ICgpID0+IHtcclxuICAgIG1vYmlsZU5vdGUuZm9yRWFjaChub3RlID0+IHtcclxuICAgICAgICBpZiAobm90ZS5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRkZW5cIikpIHtcclxuICAgICAgICAgICAgbm90ZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG5vdGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSB7XHJcbiAgICAgICAgICAgIG5vdGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRlc2t0b3BOb3RlLmZvckVhY2gobm90ZSA9PiB7XHJcbiAgICAgICAgaWYgKG5vdGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGlkZGVuXCIpKSB7XHJcbiAgICAgICAgICAgIG5vdGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChub3RlLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKSkge1xyXG4gICAgICAgICAgICBub3RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vIENvbGFwc2luZyBuYXZcclxuXHJcbmNvbnN0IG5hdkNvbGFwc2VNb2JpbGUgPSAoKSA9PiB7XHJcbiAgICBuYXZCdG5Db2xsYXBzZS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcclxuXHJcbiAgICBpZiAobmF2QnRuQ29sbGFwc2UuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICAgIG5hdkljb24uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoMGRlZylcIjtcclxuICAgICAgICBuYXZpZ2F0aW9uLnN0eWxlLmJvdHRvbSA9IFwiLTk5cHhcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbmF2SWNvbi5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSgtMTgwZGVnKVwiO1xyXG4gICAgICAgIG5hdmlnYXRpb24uc3R5bGUuYm90dG9tID0gXCIwXCI7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlYXJjaE1vYmlsZUlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBcIlBvZGFqIHN3b2rEhSBrbGFzxJkuLi5cIik7XHJcbn07XHJcblxyXG4vLyBRdWl0aW5nIHBvcHVwXHJcblxyXG5jb25zdCBxdWl0aW5nUG9wdXAgPSAoKSA9PiB7XHJcbiAgICBwb3B1cC5jbGFzc0xpc3QudG9nZ2xlKCdEaXNhYmxlZCcpO1xyXG4gICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnQWN0aXZlJyk7XHJcblxyXG4gICAgaWYgKHBvcHVwLmNsYXNzTGlzdC5jb250YWlucygnRGlzYWJsZWQnKSkge1xyXG4gICAgICAgIHBvcHVwLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICAgICAgICBwb3B1cC5zdHlsZS56SW5kZXggPSBcIi0xMFwiO1xyXG4gICAgfTtcclxufTtcclxuXHJcbi8vIHNob3dpbmcgcG9wdXBcclxuXHJcbmNvbnN0IHNob3dpbmdQb3B1cCA9ICgpID0+IHtcclxuICAgIHBvcHVwLmNsYXNzTGlzdC50b2dnbGUoJ0FjdGl2ZScpO1xyXG4gICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnRGlzYWJsZWQnKTtcclxuXHJcbiAgICBpZiAocG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdBY3RpdmUnKSkge1xyXG4gICAgICAgIHBvcHVwLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcclxuICAgICAgICBwb3B1cC5zdHlsZS56SW5kZXggPSBcIjVcIjtcclxuICAgIH07XHJcbn07XHJcblxyXG5cclxuLy8gRGVza3RvcFxyXG5cclxuY29uc3Qgc2hvd2luZ0Rlc2t0b3BSZXN1bHRzID0gKCkgPT4ge1xyXG4gICAgY2xlYW5pbmdDYXJkQ2xhc3NlcygpO1xyXG5cclxuICAgIGNvbnN0IG5ld0RhdGVGb3JtYXREZXNrdG9wID0gc2VhcmNoRGVza3RvcElucHV0LnZhbHVlO1xyXG4gICAgY29uc3QgbmV3RGF0ZUNvcnJlY3RPcmRlckRlc2t0b3AgPSBuZXdEYXRlRm9ybWF0RGVza3RvcC5zcGxpdChcIi1cIikucmV2ZXJzZSgpLmpvaW4oXCItXCIpO1xyXG4gICAgY29uc3QgbmV3RGF0ZUZpcnN0RG90ZXNEZXNrdG9wID0gbmV3RGF0ZUNvcnJlY3RPcmRlckRlc2t0b3AucmVwbGFjZSgnLScsICcuJyk7XHJcbiAgICBjb25zdCBuZXdEYXRlc2Vjb25kRG90ZXNEZXNrdG9wID0gbmV3RGF0ZUZpcnN0RG90ZXNEZXNrdG9wLnJlcGxhY2UoJy0nLCAnLicpO1xyXG4gICAgY29uc3QgZmluYWxEYXRlRGVza3RvcCA9IG5ld0RhdGVzZWNvbmREb3Rlc0Rlc2t0b3A7XHJcblxyXG4gICAgZGVza3RvcE5vdGVEYXRlU3BhbnMuZm9yRWFjaChub3RlID0+IHtcclxuXHJcbiAgICAgICAgY29uc3Qgc3BhbkNvbnRhaW5lciA9IG5vdGUucGFyZW50RWxlbWVudDtcclxuICAgICAgICBjb25zdCBub3RlQ2FyZCA9IHNwYW5Db250YWluZXIucGFyZW50RWxlbWVudDtcclxuICAgICAgICBjb25zdCBOb3RlQ2FyZCA9IG5vdGVDYXJkLnBhcmVudEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmIChub3RlLmlubmVyVGV4dCA9PT0gZmluYWxEYXRlRGVza3RvcCkge1xyXG4gICAgICAgICAgICBOb3RlQ2FyZC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICBOb3RlQ2FyZC5jbGFzc0xpc3QuYWRkKCdBY3RpdmUnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG5vdGUuaW5uZXJUZXh0ICE9PSBmaW5hbERhdGVEZXNrdG9wKSB7XHJcbiAgICAgICAgICAgIE5vdGVDYXJkLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgTm90ZUNhcmQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNlYXJjaERlc2t0b3BJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICBxdWl0aW5nUG9wdXAoKTtcclxufTtcclxuXHJcbmNvbnN0IGNsZWFuaW5nRGVza3RvcFJlc3VsdHMgPSAoKSA9PiB7XHJcbiAgICBkZXNrdG9wTm90ZS5mb3JFYWNoKG5vdGUgPT4ge1xyXG4gICAgICAgIGlmIChub3RlLmNsYXNzTGlzdC5jb250YWlucyhcImhpZGRlblwiKSkge1xyXG4gICAgICAgICAgICBub3RlLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgIG5vdGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbm90ZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2VhcmNoRGVza3RvcElucHV0LnZhbHVlID0gXCJcIjtcclxuICAgIHF1aXRpbmdQb3B1cCgpO1xyXG59O1xyXG4vLyBNb2JpbGVcclxuXHJcbmNvbnN0IHNob3dpbmdNb2JpbGVSZXN1bHRzID0gKCkgPT4ge1xyXG4gICAgY2xlYW5pbmdDYXJkQ2xhc3NlcygpO1xyXG5cclxuICAgIGNvbnN0IG5ld0RhdGVGb3JtYXRNb2JpbGUgPSBzZWFyY2hNb2JpbGVJbnB1dC52YWx1ZTtcclxuICAgIGNvbnN0IG5ld0RhdGVDb3JyZWN0T3JkZXJNb2JpbGUgPSBuZXdEYXRlRm9ybWF0TW9iaWxlLnNwbGl0KFwiLVwiKS5yZXZlcnNlKCkuam9pbihcIi1cIik7XHJcbiAgICBjb25zdCBuZXdEYXRlRmlyc3REb3Rlc01vYmlsZSA9IG5ld0RhdGVDb3JyZWN0T3JkZXJNb2JpbGUucmVwbGFjZSgnLScsICcuJyk7XHJcbiAgICBjb25zdCBuZXdEYXRlc2Vjb25kRG90ZXNNb2JpbGUgPSBuZXdEYXRlRmlyc3REb3Rlc01vYmlsZS5yZXBsYWNlKCctJywgJy4nKTtcclxuICAgIGNvbnN0IGZpbmFsRGF0ZU1vYmlsZSA9IG5ld0RhdGVzZWNvbmREb3Rlc01vYmlsZTtcclxuXHJcbiAgICBjb25zdCBpbnNpZGVOYXZDb2xsYXBzZUhpZGUgPSAoKSA9PiB7XHJcbiAgICAgICAgbmF2QnRuQ29sbGFwc2UuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIG5hdkljb24uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoLTE4MGRlZylcIjtcclxuICAgICAgICBuYXZpZ2F0aW9uLnN0eWxlLmJvdHRvbSA9IFwiMFwiO1xyXG4gICAgfTtcclxuXHJcbiAgICBtb2JpbGVOb3RlRGF0ZVNwYW5zLmZvckVhY2gobm90ZSA9PiB7XHJcblxyXG4gICAgICAgIGNvbnN0IHNwYW5Db250YWluZXIgPSBub3RlLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgY29uc3Qgbm90ZUNhcmQgPSBzcGFuQ29udGFpbmVyLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgTm90ZUNhcmQgPSBub3RlQ2FyZC5wYXJlbnRFbGVtZW50O1xyXG5cclxuICAgICAgICBpZiAobm90ZS5pbm5lclRleHQgPT09IGZpbmFsRGF0ZU1vYmlsZSkge1xyXG4gICAgICAgICAgICBOb3RlQ2FyZC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICBOb3RlQ2FyZC5jbGFzc0xpc3QuYWRkKCdBY3RpdmUnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG5vdGUuaW5uZXJUZXh0ICE9PSBmaW5hbERhdGVNb2JpbGUpIHtcclxuICAgICAgICAgICAgTm90ZUNhcmQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICBOb3RlQ2FyZC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgaW5zaWRlTmF2Q29sbGFwc2VIaWRlKCk7XHJcbiAgICBzZWFyY2hNb2JpbGVJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICBxdWl0aW5nUG9wdXAoKTtcclxufTtcclxuXHJcbmNvbnN0IGNsZWFuaW5nTW9iaWxlUmVzdWx0cyA9ICgpID0+IHtcclxuICAgIG1vYmlsZU5vdGUuZm9yRWFjaChub3RlID0+IHtcclxuICAgICAgICBpZiAobm90ZS5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRkZW5cIikpIHtcclxuICAgICAgICAgICAgbm90ZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICBub3RlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5vdGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIHNlYXJjaE1vYmlsZUlucHV0LnZhbHVlID0gXCJcIjtcclxuICAgIG5hdkNvbGFwc2VNb2JpbGUoKTtcclxufTtcclxuXHJcbmNvbnN0IGVudGVyRnVuY3Rpb25NID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICBzaG93aW5nTW9iaWxlUmVzdWx0cygpO1xyXG4gICAgfTtcclxufTtcclxuXHJcbmNvbnN0IGVudGVyRnVuY3Rpb25EID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICBzaG93aW5nRGVza3RvcFJlc3VsdHMoKTtcclxuICAgIH07XHJcbn07XHJcblxyXG4vLyBMaXN0ZW5lcnNcclxuXHJcbm5hdkJ0bkNvbGxhcHNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbmF2Q29sYXBzZU1vYmlsZSk7XHJcbnBvcHVwUXVpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHF1aXRpbmdQb3B1cCk7XHJcbnNlYXJjaGluZ0Rlc2t0b3BCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93aW5nUG9wdXApO1xyXG5cclxuLy8gTW9iaWxlIFJlc3VsdHNcclxuXHJcbm1vYmlsZUZpbHRyU2VhcmNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd2luZ01vYmlsZVJlc3VsdHMpO1xyXG5tb2JpbGVGaWx0ckNsZWFuZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGVhbmluZ01vYmlsZVJlc3VsdHMpO1xyXG5cclxuLy8gRGVrc3RvcCBSZXN1bHRzXHJcblxyXG5EZXNrdG9wRmlsdHJTZWFyY2hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93aW5nRGVza3RvcFJlc3VsdHMpO1xyXG5EZXNrdG9wRmlsdHJDbGVhbmVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xlYW5pbmdEZXNrdG9wUmVzdWx0cyk7XHJcblxyXG4vLyBFbnRlciBGdW5jdGlvbnNcclxuXHJcbnNlYXJjaE1vYmlsZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZW50ZXJGdW5jdGlvbk0pO1xyXG5zZWFyY2hEZXNrdG9wSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBlbnRlckZ1bmN0aW9uRCk7Il19
